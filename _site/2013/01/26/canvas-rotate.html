<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>尝试将块化的内容在页面上进行旋转后绘制 - Zero Site</title>

	<link rel="stylesheet" href="/zeroBlog/bootstrap.min.css">
	<link rel="stylesheet" href="/zeroBlog/css.css">
</head>
<body>

	
		
	

	<header>
	<h1><a href="/zeroBlog">Zero Site</a></h1>
	</header>

	<div class="container">


  
    <div class="span11 content">
		<div class="page-header">
		 <h3 class="title">尝试将块化的内容在页面上进行旋转后绘制</h3>
		</div>
		<div class="post_content">
			
			<p>用于尝试在页面上进行旋转绘制相应的图片</p>

<p>-方式一：直接绘制在内存的canvas中，然后直接旋转进行绘制
-方式二：直接单张绘制在canvas中</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;script&gt;
        document.addEventListener(&quot;DOMContentLoaded&quot;, function(){
            drawTmpCvs();
            drawCvsEach();
        });

        // draw each block
        var drawCvsEach = function() {
            var canvas = document.getElementById(&quot;myCanvas&quot;);
            var ctx = canvas.getContext(&quot;2d&quot;);

            ctx.save();
            ctx.translate( 20, 20 );
            ctx.rotate( 30 * Math.PI / 180 );
            ctx.fillRect( 0, 0, 50, 50 );
            ctx.restore();

            ctx.save();
            ctx.translate( 20, 20 );
            ctx.rotate( 30 * Math.PI / 180 );
            ctx.globalAlpha = 0.6;
            ctx.fillStyle = &quot;#ff0000&quot;;
            ctx.fillRect( 0, 40, 50, 10 );
        }

        // draw image in memory canvas
        var drawTmpCvs = function(){
            var canvas = document.getElementById(&quot;templateCanvas&quot;);
            var ctx = canvas.getContext(&quot;2d&quot;);

            var cacheCVS = document.createElement(&#39;canvas&#39;);
            var cacheCtx = cacheCVS.getContext( &quot;2d&quot; );
            cacheCVS.width = 50;
            cacheCVS.height = 50;
            cacheCtx.fillRect( 0, 0, 50, 50 );

            cacheCtx.save();
            cacheCtx.globalAlpha = 0.6;
            cacheCtx.fillStyle = &quot;#ff0000&quot;;
            cacheCtx.fillRect( 0, 40, 50, 10 );
            cacheCtx.restore();

            ctx.save();
            ctx.translate( 20, 20 );
            ctx.rotate( 30 * Math.PI / 180 );
            ctx.drawImage( cacheCVS, 0, 0 );
            ctx.restore();
        };
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;canvas id=&#39;myCanvas&#39; width=&quot;100&quot; height=&quot;100&quot; style=&quot;background-color: #00ff00&quot;&gt;&lt;/canvas&gt;
    &lt;canvas id=&quot;templateCanvas&quot; width=&quot;100&quot; height=&quot;100&quot; style=&quot;background-color: #00ff00&quot;&gt;&lt;/canvas&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div>
			
		</div>
    </div><!--content-->

	<div class="span5 sidebar">
		<h4>Published on 26 January 2013</h4>
		
	</div>

    <div id="disqus_thread" class="span11"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'myzerospace'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
	</div><!--container-->
</body>
</html>

